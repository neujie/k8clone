# k8clone
一个简单的K8S元数据克隆的工具，它将K8S元数据(对象)保存到本地，并打成一个压缩包的工具。
他可以从IDC、友商K8S中，将用户的应用备份到另一个K8S集群中

# 特性列表
1. K8S兼容版本：
    1) K8S 1.19 ~ 1.23 (0)
    2) K8S 1.15 ~ 1.23 (1)
    3) K8S 1.13 ~ 1.23 (3)
    4) 按需(3)
2. 备份能力：
    1) 整个集群对象的备份 (0)
    2) 指定命名空间对象的备份 (0)
    3) 指定命名空间对象及其依赖的全局资源对象的备份 (1)
    4) 指定标签的对象的备份 (2)
3. 备份数据：
    1) 备份数据备份到本地目录，并打成压缩包放到本地目录 (0)
    2) 备份压缩包自动上传到指定sfs server或obs桶  (3)
    3) 备份数据加密 (3)
4. 恢复能力：
    1) 将备份的K8S元数据压缩包处理
        * 解压缩 (0)
        * 加密压缩包解压缩 (3)
    2) 将备份数据恢复到指定的K8S集群
        * 恢复K8S元数据到K8S集群中 (0)
        * 按照一定顺序恢复K8S元数据到K8S集群中, 可参考velero中的顺序 (1)
    3) 支持PVC中存储类名字按照配置进行自动更换 (1)       
    4) 有状态应用VolumeClaimTemplates中存储类的自动更换 (1)       
    5) 支持workloads镜像repo地址的更换, 镜像同版本 (1)        
    6) 支持迁移应用部署命名空间的更换, 比如：ns1 -> ns2，原集群ns1下迁移的workloads部署到新集群的ns2下 (1)
    7) 根据用户配置的PVC名字及存储迁移后的volumeID/共享目录/obs桶名字等配置, 自动生成目标集群中对应的新PV，并正确与用户指定的PVC绑定 (1)
    8) 支持根据K8S API向GA API转换，按照K8S兼容版本迭代 (2)
